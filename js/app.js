document.addEventListener("DOMContentLoaded",(()=>{if(document.querySelector(".olympics-swiper")&&window.Swiper){const e=new Swiper(".olympics-swiper",{slidesPerView:1,loop:!0,speed:600,autoplay:{delay:2e3,disableOnInteraction:!1}});document.querySelector(".swiper-next-btn")?.addEventListener("click",(()=>{e.slideNext()}))}const e=document.querySelectorAll(".accordion-header");e.length&&e.forEach((e=>{e.addEventListener("click",(()=>{const t=e.closest(".accordion-item");t&&(document.querySelectorAll(".accordion-item.active").forEach((e=>{e!==t&&e.classList.remove("active")})),t.classList.toggle("active"))}))}));const t=document.querySelector(".header__menu"),n=document.getElementById("mobileNav"),o=document.getElementById("navOverlay"),l=document.getElementById("navCloseBtn"),d=()=>{n&&o&&(n.classList.remove("is-open"),o.classList.remove("is-open"),document.body.classList.remove("nav-open"),n.setAttribute("aria-hidden","true"),o.setAttribute("aria-hidden","true"))};t&&n&&o&&l&&(t.addEventListener("click",(()=>{n&&o&&(n.classList.add("is-open"),o.classList.add("is-open"),document.body.classList.add("nav-open"),n.setAttribute("aria-hidden","false"),o.setAttribute("aria-hidden","false"))})),l.addEventListener("click",d),o.addEventListener("click",d),document.addEventListener("keydown",(e=>{"Escape"===e.key&&d()})),n.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(t=>{const n=e.getAttribute("href"),o=n?document.querySelector(n):null;o&&(t.preventDefault(),d(),o.scrollIntoView({behavior:"smooth",block:"start"}))}))})));const r=document.querySelectorAll(".registerBtn"),a=document.getElementById("registrationModal"),i=document.getElementById("closeModalBtn"),s=document.querySelector(".homeModalOverlay"),c=document.getElementById("registrationForm"),m=document.getElementById("name"),u=document.getElementById("nameError"),y=document.getElementById("phone"),v=document.getElementById("phoneError"),p=document.getElementById("submitBtn"),E=window.phoneFormatter;let g=!1,h=0;const L=()=>{a&&(d(),g=!0,h=window.scrollY||0,a.style.display="block",document.body.style.overflow="hidden",u&&(u.style.display="none"),v&&(v.style.display="none"))},b=()=>{a&&g&&(g=!1,a.style.display="none",document.body.style.overflow="",window.scrollTo(0,h))};r.forEach((e=>e.addEventListener("click",L))),i?.addEventListener("click",b),s?.addEventListener("click",b),c?.addEventListener("submit",(e=>{if(e.preventDefault(),!E)return console.error("phoneFormatter is not initialized. Check load order."),void(v&&(v.style.display="block"));const t=m?.value?.trim()||"",n=y?.value?.trim()||"";let o=!1;if(t?u&&(u.style.display="none"):(u&&(u.style.display="block"),o=!0),E.validate(n)?v&&(v.style.display="none"):(v&&(v.style.display="block"),o=!0),o)return;p&&(p.textContent="YUBORILMOQDA...",p.disabled=!0);const l=new Date,d=l.toLocaleDateString("uz-UZ"),r=l.toLocaleTimeString("uz-UZ"),a={Ism:t,TelefonRaqam:`${E.getCurrentCode()} ${n}`,SanaSoat:`${d} - ${r}`};localStorage.setItem("formData",JSON.stringify(a)),m&&(m.value=""),y&&(y.value=""),b(),window.location.href="./thankYou.html",p&&(p.textContent="DAVOM ETISH",p.disabled=!1)}));const w=document.getElementById("timer");if(w){let e=120;const t=()=>{const t=Math.floor(e/60),o=e%60;w.textContent=`${String(t).padStart(2,"0")}:${String(o).padStart(2,"0")}`,e<=0?clearInterval(n):e-=1};t();const n=setInterval(t,1e3)}}));